<!DOCTYPE html>
<html lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="The Live Playground for SBNF">
    
    <link rel="modulepreload" href="./sbnf.js" crossorigin="anonymous">
    <link rel="preload" href="./sbnf.wasm" as="fetch" crossorigin="anonymous">
    <script>let worker=new Worker("./sbnf.js");document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("input-name"),n=document.getElementById("input-arguments"),s=document.getElementById("input-quiet"),d=document.getElementById("input-debug"),o=document.getElementById("input-code"),e=document.getElementById("syntax"),a=document.getElementById("syntax-tab"),r=document.getElementById("syntax-content"),c=document.getElementById("messages"),i=document.getElementById("messages-tab"),l=document.getElementById("messages-content");function u(){e.classList.remove("hide"),a.classList.add("active"),c.classList.add("hide"),i.classList.remove("active")}function m(){e.classList.add("hide"),a.classList.remove("active"),c.classList.remove("hide"),i.classList.add("active")}a.addEventListener("click",u),i.addEventListener("click",m);let g=!1,v=null;function E(e,t){r.textContent=e,l.textContent=t,(""===e?m:u)()}function k(){(worker=worker||new Worker("./sbnf.js")).onmessage=e=>{console.assert(g);var[e,t]=e.data;E(e,t),v?(worker.postMessage(v),v=null):g=!1},worker.onerror=e=>{console.error(e),worker.terminate(),worker=null,v=null,E("","Whoops, it looks like the compiler has crashed.\nThis is a bug and should be reported.\n")},g=!1,v=null}async function L(){var e=[t.value,o.value,n.value,s.checked,d.checked];worker||k(),g?v=e:(g=!0,worker.postMessage(e))}k(),L(),s.addEventListener("change",L),d.addEventListener("change",L),t.addEventListener("input",L),n.addEventListener("input",L),o.addEventListener("input",L)})</script>
    <style type="text/css">body{font-family:sans-serif;padding:10px 15px;display:flex;flex-direction:column;gap:10px}header{display:flex;flex-direction:row;align-items:baseline}header h3{flex-grow:1;margin:0}header a{color:#f0f6fc;background-color:#161b22;font-weight:700;text-decoration:none;padding:.2rem .4rem;border-radius:.3rem}header a:hover{color:#ffffffb2}form{display:flex;flex-direction:column;gap:10px}form div{display:flex;flex-direction:row;gap:10px;flex-wrap:wrap}textarea{flex-grow:1;font-family:monospace}input[type=text],textarea{appearance:none;background:#fff;border:.05rem solid #bcc3ce;border-radius:.2rem;color:#000;display:block;outline:0;padding:.3rem .4rem;transition:background .2s,border .2s,box-shadow .2s,color .2s}input[type=text]:focus,textarea:focus{border-color:#5755d9;box-shadow:0 0 0 .1rem rgba(87,85,217,.2)}form label{display:flex;flex-direction:row;align-items:center;gap:.5rem;padding:.3rem .1rem}form label input{aling-self:flex-start}section{display:flex;flex-direction:column}.hide{display:none}.tabs{display:flex;flex-direction:row}.tabs>a{flex-grow:1;text-align:center;text-decoration:none;padding:.4em;border-radius:.3rem .3rem 0 0;border-bottom:.1rem solid transparent;color:#000}.tabs>a:hover{background-color:#f5f5f5;transition:background-color .2s linear;color:#5755d9;transition:background-color .2s linear}.tabs>a.active{color:#5755d9;background:#eee;border-bottom-color:#5755d9}code{background-color:#eee;padding:.1rem .2rem;border-radius:.1rem}pre{margin-top:0;padding:1em;background:#eee;min-height:50%;overflow:scroll}</style>
    <title>SBNF Playground</title>
  </head>
  <body>
    <header>
      <h3>SBNF Playground</h3>
      <a href="https://github.com/BenjaminSchaaf/sbnf" class="btn btn-primary btn-large">GitHub</a>
    </header>

    <form>
      <div>
        <div>
          <input id="input-name" type="text" placeholder="name">
          <input id="input-arguments" type="text" placeholder="args">
        </div>
        <div>
          <label>
            <input type="checkbox" id="input-quiet">
            Quiet <code>-q</code>
          </label>
          <label>
            <input type="checkbox" id="input-debug" checked="checked">
            Debug <code>-g</code>
          </label>
        </div>
      </div>
      <div>
        <textarea id="input-code" placeholder="Textarea" rows="15" style="font-family:monospace;resize:vertical">
main : ( ~( foo
          | bar
       )  )*
     ;

foo : 'foo'{foo} ;

bar : 'bar'{bar} ;
</textarea>
      </div>
    </form>

    <section>
      <div class="tabs">
        <a href="#" class="active" id="syntax-tab">Sublime Syntax</a>
        <a href="#" id="messages-tab">Errors & Warnings</a>
      </div>

      <pre id="syntax"><code id="syntax-content"></code></pre>
      <pre class="hide" id="messages"><code id="messages-content"></code></pre>
    </section>
  </body>
</html>